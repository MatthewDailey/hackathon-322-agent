# Oncall Investigation Log - 2025-03-22

## Issue
High latency detected on the /api/ping endpoint, with P99 latency consistently above 4 seconds (target: <10s).

## Investigation Steps

1. Endpoint Health Check
- Homepage: ✅ Loading successfully
- /api/ping: ⚠️ Responding with "pong" but high latency (2.9s)
- /api/search: ✅ Responding with acceptable latency (497ms)

2. Metrics Analysis
- P99 latency for /api/ping showing consistent high values between 4-6 seconds
- No error responses observed, just latency issues

3. Recent Changes Review
- Deploy at 2025-03-22T18:36:25Z: "Add LaunchDarkly feature flag integration for AI search behavior"
- Multiple feature flag changes to "better-ai-search" flag
- Latest flag change: 2025-03-22T20:51:04Z

## Root Cause
High latency correlated with deployment that added LaunchDarkly feature flag integration.

## Action Taken
- Rolled back to previous stable version (deploy ID: dep-cvfft3nnoe9s73bh37l0)
- Notified team about the latency issue

## Recommendations
1. Monitor latency after rollback to confirm improvement
2. Review LaunchDarkly integration implementation for performance impact
3. Consider adding latency tests to deployment pipeline

## Links
- [Web Service Dashboard](https://dashboard.render.com/web/srv-cvfft3nnoe9s73bh37gg)
- [LaunchDarkly Flags](https://app.launchdarkly.com/projects/default/flags)